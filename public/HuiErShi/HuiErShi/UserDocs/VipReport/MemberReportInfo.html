<!--会员详情页面-->
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>会员详情</title>
  <link href="../../Styles/bootstrap-3.3.4.css" rel="stylesheet">
  <link href="../../Styles/common.css" rel="stylesheet">
</head>

<body ng-app="myApp" ng-controller="customersCtrl">
  <!-- 面包屑导航 -->
  <ol class="breadcrumb col-xs-12" style="border-radius:0;background-color:white;">
    <li><a href="javascript:void(0)">会员报告</a></li>
    <li><a href="javascript:history.back(-1);">报告列表</a></li>
    <li class="active">{{"TODO"}}</li>
  </ol>
  <!--会员详情-->
  <div class="section">
    <div class="container">
      <div class="row">
        <!-- 消除外边距 -->
        <div class="col-md-2"><img src='http://usr.im/100x100?text=文字说明' class='img-responsive img-thumbnail' alt='自定义'></div>
        <div class="col-md-3">
          <p><b>　　姓名:</b><span>张海燕</span></p>
          <p><b>报告单号:</b><span>1526644515615</span></p>
        </div>
        <div class="col-md-2">
          <p><b>性别:</b><span>女</span></p>
          <p><b>日期:</b><span>2017/3/22</span></p>
        </div>
        <div class="col-md-2">
          <p><b>年龄:</b><span>18</span></p>
          <p><b>状态:</b><span>很好</span></p>
        </div>
        <div class="col-md-2">
          <button type="button" class="btn btn-primary">发布报告</button>
        </div>
        <div class="col-md-2"> </div>
        <div class="col-md-6 ">
          <p><b>　　验单:</b>
            <a>肝功能(L5253)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a>肝功能(创建验单)</a>
          </p>
        </div>
      </div>
      <hr>
      <div class="row">
        <!-- 消除外边距 -->
        <div class="col-md-2"><img src='http://usr.im/100x100?text=文字说明' class='img-responsive img-thumbnail' alt='自定义'></div>
        <div class="col-md-10">
          <p><b>报告分析:</b> {{"报告分析"}}(<a href="#?">修改</a>)</p>
        </div>
        <div class="col-md-10 col-md-offset-2"><b>报告分析:</b>
          <ul ng-repeat="x in infos">{{"具体信息"}}
            <li>{{"具体信息"}}</li>

          </ul>
        </div>
        <div class="col-md-10 col-md-offset-2">
          <table class="table  table-hover table-bordered">
            <!-- 表头 -->
            <thead>
              <tr>
                <th> 处方名称 </th>
                <th> 处方类别 </th>
                <th> 拼音名 </th>
                <th> 操作 </th>
              </tr>
            </thead>
            <tbody id="databody">
              <tr ng-show="dataLengths" ng-repeat="x in names.content">
                <td>{{ x.gender=="M"?"男":"女" }}</td>
                <td>{{ x.origin }}</td>
                <td>{{ x.vipCard.vipCardEntity.vipType=="considerate"?"体验型":"关爱型" }}</td>
                <td>
                  <a href="#?">{{ x.adviser.name}}</a></td>
              </tr>
              <tr ng-show="!dataLengths">
                <td colspan="100" class="text-center ">暂无结果</td>
              </tr>
            </tbody>
          </table>
        </div>


      </div>
      <hr>
      <div class="row">
        <div class="col-md-2"><img src='http://usr.im/100x100?text=文字说明' class='img-responsive img-thumbnail' alt='自定义'></div>
        <div class="col-md-10"><b>报告分析:</b>
          <p><b>报告分析:</b> {{"报告分析"}}(<a href="#?">修改</a>)</p>
        </div>
      </div>
    </div>
  </div>

  <!--脚本-->
  <script type="text/javascript" src="../../Scripts/jquery-1.10.1.js"></script>
  <script type="text/javascript" src="../../Scripts/jquery.datetimepicker.full.min.js"></script>
  <script type="text/javascript" src="../../Scripts/angular.min.js"></script>
  <script type="text/javascript" src="../../Scripts/bootstrap.js"></script>
  <script type="text/javascript" src="../../Scripts/select2.js"></script>
  <script type="text/javascript" src="../../Scripts/bootstrap-paginator.js"></script>
  <script type="text/javascript" src="../../Scripts/CommonScript.js"></script>
  <!--自定义脚本部分-->
  <script>
    var app = angular.module('myApp', []);
    app.controller('customersCtrl', function($scope, $http) {
      var reportObj = new UrlSearch();
      if (reportObj.id) {
        $scope.reportId = reportObj.id;
        var url = BasicUrl + "vip/" + reportObj.id;
        //获取当前用户的具体信息
        $http.get(url).success(function(data) {
          if (data != null && data != "" && data != "null" && data.id) {
            $scope.data = data;
          } else {
            tool.alert("提示", data.errorMessage);
          }
        }).error(function(data, header, config, status) {
          //处理响应失败
          //   tool.alert("提示", "获取数据出错,请重试或联系网站管理员。");
          window.location.href = "MemberList.html";
        });
        //获取当前用户汇总信息
        var infoUrl = "http://60.205.170.209:8080/admin/api/vip/" + urlObj.id + "/summary"
        $http.get(infoUrl).success(function(healthyData) {
          if (healthyData != null && healthyData != "" && healthyData != "null") {
            $scope.vipInfo = healthyData;
          } else {
            tool.alert("提示", healthyData.errorMessage);
          }
        }).error(function(data) {
          //处理响应失败
          //   tool.alert("提示", "获取数据出错,请重试或联系网站管理员。");
          window.location.href = "MemberList.html";
        });

      } else {
        // tool.alert("提示", "获取数据出错,请重试或联系网站管理员。");
      }

    });
  </script>
</body>

</html>